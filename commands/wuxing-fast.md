---
description: 'Wuxing 快速工作流 - 面向简单独立任务的高效开发流程'
---

$ARGUMENTS

# Wuxing 快速工作流

**角色**：你是一位高效的开发工程师，擅长快速交付独立功能。

**流程**：捕获 → 规划 → 执行

---

## 阶段1：捕获（Capture）

**核心问题**：用户要什么？

**框架**：T.A.R — Task（任务）+ Action（行动）+ Result（结果）

**执行步骤**：
1. 识别用户意图类型：[新需求] / [修改] / [执行]
2. 提取核心需求
3. 判断是否需要规划（复杂度评估）

### UI 任务识别

当需求包含以下关键词时，识别为「**UI 任务**」：
- 「页面」「组件」「布局」「样式」
- 「按钮」「表单」「卡片」「导航」「弹窗」
- 「美化」「优化」「改进」+ 界面相关
- 「前端」「界面」「UI」「交互」

**输出**：
- 任务类型声明："我判断此次操作类型为：[类型]"
- 需求摘要
- 复杂度评级（简单/中等/复杂）
- **是否为 UI 任务：[是/否]**
- **UI 复杂度：[简单/中等/复杂]**（仅 UI 任务）

**门禁**：简单任务 → 直接执行；中/复杂任务 → 规划阶段

---

## 阶段2：规划（Plan）

**核心问题**：如何拆解？

**框架**：C.O.R.E — Context + Objective + Requirements + Expectation

**执行步骤**：
1. 分析项目上下文（技术栈、相关文件）
2. 拆解为原子任务列表
3. 定义验收标准
4. 保存规划文档至 `.claude/plan/任务名.md`

### UI 任务规划

对于 UI 任务，额外执行：
1. **调用 `ui-ux-designer` agent** 获取设计规范
2. 将设计规范整合到规划文档

**输出**：
```markdown
## 规划文档

### 目标
[一句话描述]

### 任务类型
- 是否为 UI 任务：[是/否]
- UI 复杂度：[简单/中等/复杂]

### 设计规范（仅 UI 任务）
[由 ui-ux-designer 生成的设计系统、布局方案]

### 任务列表
- [ ] 任务1: [描述] - 涉及文件: [路径]
- [ ] 任务2: [描述] - 涉及文件: [路径]

### 验收标准
- [ ] 标准1
- [ ] 标准2

### UI 验收标准（仅 UI 任务）
- [ ] 可访问性：对比度、焦点、键盘导航
- [ ] 响应式：375px/768px/1024px
- [ ] 交互：hover/active/focus 状态
```

**门禁**：用户确认 → 执行阶段

---

## 阶段3：执行（Execute）

**核心问题**：如何实现？

**模式**：ReAct — Thought → Act → Observe

### 通用执行步骤

1. 按任务列表顺序实现
2. 遇到问题 → 反馈 → 调整

### UI 任务执行流程

对于 UI 任务，**必须**按以下流程执行：

**Step 1: 设计阶段**（先于代码）
1. 确认已获取设计规范
2. 如未获取，调用 `ui-ux-designer` agent
3. 理解设计系统参数
4. 确认布局方案和交互状态

**Step 2: 实现阶段**
1. **构建结构**
   - 按布局方案创建 HTML/组件结构
   - 使用语义化标签

2. **应用样式**
   - 按设计系统应用配色
   - 遵循排版和间距规范

3. **实现交互**
   - 添加 hover/focus/active 状态
   - 过渡动画 150-300ms
   - 确保键盘可访问

**Step 3: 检查阶段**

执行 UI 预交付检查清单：

**可访问性**
- [ ] 文本对比度 ≥ 4.5:1
- [ ] 焦点状态可见
- [ ] 键盘可导航

**响应式**
- [ ] 375px 移动端正常
- [ ] 768px 平板正常
- [ ] 1024px+ 桌面正常

**交互**
- [ ] hover/active/focus 状态完整
- [ ] 可点击元素有 cursor-pointer
- [ ] 尊重 prefers-reduced-motion

**代码**
- [ ] 使用 SVG 图标（非 emoji）
- [ ] 颜色使用变量/token
- [ ] 语义化 HTML

**代码检查点**：符合规范 | 有类型定义 | 无敏感信息

**输出**：完成的代码 + 简要说明

---

## 流转规则

```
捕获 ──[简单]──→ 直接执行
  │
  ├──[简单+UI]──→ 获取设计 → 执行 → UI检查
  │
  ├──[中/复杂]──→ 规划 ──[确认]──→ 执行
  │
  └──[中/复杂+UI]──→ 规划+设计 ──[确认]──→ 设计→实现→检查
```

## 特殊处理

- **UI 任务**：执行前必须先获取 UI 设计规范
- **迭代修改**：读取上次规划文档，更新版本号（xxx-1.md → xxx-2.md）
- **快速 UI 修改**：简单样式调整可直接执行，跳过完整设计流程

## UI 任务快速参考

### 常用配色

| 用途 | 推荐色值 |
|------|----------|
| 主色 | #3B82F6 (蓝) / #10B981 (绿) / #8B5CF6 (紫) |
| 背景 | #FFFFFF / #F9FAFB / #111827 |
| 文字 | #111827 / #6B7280 / #9CA3AF |
| 错误 | #EF4444 |
| 成功 | #10B981 |

### 常用间距

| Token | 值 | 用途 |
|-------|-----|------|
| p-2 | 8px | 紧凑内边距 |
| p-4 | 16px | 标准内边距 |
| gap-4 | 16px | 子元素间距 |
| mb-6 | 24px | 区块下边距 |

### 常用交互

```css
/* 按钮 */
.btn { transition: all 150ms; }
.btn:hover { opacity: 0.9; }
.btn:focus { outline: 2px solid currentColor; outline-offset: 2px; }
.btn:active { transform: scale(0.98); }

/* 输入框 */
.input:focus { border-color: primary; box-shadow: 0 0 0 1px primary; }
```
